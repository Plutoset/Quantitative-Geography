% 第一步
% min d1+
% 2x1+x2+x3=11
% x1-x2+d1--d1+=0
% x1,x2,x3>=0,d1->=0,d1+>=0
Aeq=[2 1 1 0 0 0 0 0 0;1 -1 0 1 -1 0 0 0 0];
beq=[11;0];
f=[0 0 0 0 1 0 0 0 0];
lb=[0 0 0 0 0 0 0 0 0];
[x1,fval]=linprog(f,[],[],Aeq,beq,lb)

% 第二步
% min d2-+d2+
% 2x1+x2+x3=11
% x1-x2+d1--d1+=0
% x1+2x2+d2--d2+=10
% d1+=0
% x1,x2,x3>=0,d1->=0,d1+>=0,d2->=0,d2+>=0
f=[0 0 0 0 0 1 1 0 0];
Aeq=[2 1 1 0 0 0 0 0 0;
          1 -1 0 1 -1 0 0 0 0;
          1 2 0 0 0 1 -1 0 0;
          0 0 0 0 1 0 0 0 0;];
beq=[11;0;10;0];
lb=[0 0 0 0 0 0 0 0 0];
[x2,fval]=linprog(f,[],[],Aeq,beq,lb)

%第三步
% min d3-
% 2x1+x2+x3=11
% x1-x2+d1--d1+=0
% x1+2x2+d2--d2+=10
% 8x1+10x2+d3--d3+=56
% d1+=0
% d2-+d2+=0
% x1,x2,x3>=0; d1->=0,d1+>=0,d2->=0,d2+>=0,d3->=0,d3+>=0
f=[0 0 0 0 0 0 0 1 0];
Aeq=[2 1 1 0 0 0 0 0 0;
     1 -1 0 1 -1 0 0 0 0;
     1 2 0 0 0 1 -1 0 0;
     8 10 0 0 0 0 0 1 -1;
     0 0 0 0 1 0 0 0 0;
     0 0 0 0 0 1 1 0 0];
beq=[11;0;10;56;0;0];
lb=[0 0 0 0 0 0 0 0 0];
[x3,fval]=linprog(f,[],[],Aeq,beq,lb)
